<div class="dashboard-container" [class.embed-mode]="embedModeService.isEmbedMode()()">
  <div class="dashboard-header" *ngIf="!embedModeService.isEmbedMode()()">
    <h1>Financial Data Dashboard</h1>
  </div>
  
  <div class="controls-section" [class.compact]="embedModeService.isEmbedMode()()">
    <app-filter-bar 
      #filterBar
      [data]="dataGrid.data()"
      [columns]="dataGrid.columns"
      [flattenedData]="dataGrid.flattenedData()"
      [embedMode]="embedModeService.isEmbedMode()()"
      (filterChange)="onFilterChange($event)"
      (childSearchEvent)="onChildSearchEvent($event)"></app-filter-bar>
  </div>
  
  <div class="dashboard-content">
    <app-data-grid 
      #dataGrid
      [hierarchyRequest]="hierarchyRequest"
      [hierarchyTypes]="hierarchyTypes"
      [embedMode]="embedModeService.isEmbedMode()()"
      (rowClick)="onRowClick($event)"
      (cellClick)="onCellClick($event)"
      (childSearchRequest)="onChildSearchRequest($event)"></app-data-grid>
  </div>
</div>